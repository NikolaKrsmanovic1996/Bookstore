
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1000/xhtml">
<head th:replace="common/header :: common-header" />

<body>
	<div th:replace="common/header :: navbar" />

	<div class="container">
		<div class="row" style="margin-bottom: -100px;">
			<div class="col-xs-8">
				<h2 class="section-headline">
					<span>User Account</span>
				</h2>
			</div>
			<div class="col-xs-4">
				<img src="/image/logo.png" class="img-responsive" />
			</div>
		</div>
		<hr
			style="position: absolute; width: 100%; height: 6px; background-color: #333; z-index: -1; margin-top: -80px;" />
		<img class="img-responsive" src="/image/wood.png"
			style="margin-top: -75px;" />

		<div class="row" style="margin-top: 10px;">
			<form th:action="@{/checkout}" method="post">

				<!--   Left Panel -->
				<div class="col-xs-4">
					<div class="panel panel-default">
						<div class="panel-body">
							<button type="submit" class="btn btn-warning btn-lock">Place
								your order</button>
							<p style="font-size: small;">
								By placing your order,you agree to ComicBook Store <a href="#">Privacy</a>
								Notice and<a href="#">Conditions</a>of use.
							</p>
							<hr />
							<h3>Order Summary</h3>
							<div class="row">
								<div class="col-xs-7 text-left">Total Before Text</div>
								<div class="col-xs-5 text-right">
									$<span th:text="${shoppingCart.grandTotal}"></span>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-xs-7 text-left">
								<h3 style="color: darkred;">
									<strong>Order Total: </strong>
								</h3>
							</div>
							<div class="col-xs-5 text-right">
								<h3>
									<strong style="color: darkred;">$<span
										th:with="total=${shoppingCart.grandTotal+shoppingCart.grandTotal*0.06}"
										th:text="{#number.formatDecimal(total, 0 ,2)}"></span></strong>
								</h3>
							</div>
						</div>
						<div class="panel-footer">Shipping and handling haven't
							applied yet</div>
					</div>
				</div>



				<!--  Checkout Info -->

				<div class="col-xs-8">
					<div th:if=${missingRequiredField}>
						<h5 class="alert alert-warning">There are some fileds
							missing. Field with * is required</h5>
					</div>
					<div class="panel-group" id="accordion">

						<!--  1.Shipping Adress -->
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title">
									<a data-toggle="collapse" data-parent="#accordion"
										href="#shippingInfo"> 1.Shipping Adress </a>
								</h4>
							</div>
							<div id="shippingInfo" class="panel-collapse collapse"
								th:classapend="${classActiveShipping}? 'in' ">
								<div class="panel-body">
									<table class="table" th:if="${not emptyShippingList}">
										<thead>
											<tr>
												<th>Available Shipping Adress</th>
												<th>Operations</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="userShipping : ${userShippingList}">
												<td
													th:text="${userShipping.userShippingStreet1}+ ' '+${userShipping.userShippingStreet2}+ ' '+${userShipping.userShippingCity}
										     + ', '+${userShipping.userShippingState} "></td>

												<td><a
													th:href="${/setShippingAddress(userShippingId=${userShipping.id})}">
														Use this address</a></td>

											</tr>
										</tbody>
									</table>

									<div class="form-group">
										<label for="shippingName"> * Name</label> <input type="text"
											class="form-control" id="shippingName"
											placeholder="Reciever Name" name="shippingAddressName"
											th:value="${shippingAddress.shippingAdressName}" />
									</div>
									
									<div class="form-group">
										<label for="shippingStreet"> * Street Address</label> <input type="text"
											class="form-control" id="shippingStreet"
											placeholder="Street Address1" name="shippingAddressStreet1"
											th:value="${shippingAddress.shippingAddressStreet1}" />
									</div>
									
									<div class="form-group">
										<label for="shippingStreet"> * Street Address</label> <input type="text"
											class="form-control" id="shippingStreet"
											placeholder="Street Address1" name="shippingAddressStreet1"
											th:value="${shippingAddress.shippingAddressStreet1}" />
									</div>
									<div class="form-group">
										 <input type="text"
											class="form-control" 
											placeholder="Street Address2" name="shippingAddressStreet2"
											th:value="${shippingAddress.shippingAddressStreet2}" />
									</div>
									<div class="row">
												<div class="col-xs-4">
													<div class="form-group">
														<label for="shippingCity">* City</label> <input type="text"
															class="form-control" id="shippingCity"
															placeholder="Shipping City" th:name="shippingAddressCity"
															required="required"
															th:value="${shippingAddress.shippingAddressCity}" />
													</div>
												</div>
												<div class="col-xs-4">
													<div class="form-group">
														<label for="shippingState">* State</label> <select
															id="shippingState" class="form-control"
															th:name="shippingAddressState"
															th:value="${shippingAddress.shippingAddressState}"
															required="required">
															<option value="" disabled="disabled">Please
																select an option</option>
															<option th:each="state : ${stateList}" th:text="${state}"
																th:selected="(${shippingAddress.shippingAddressState}==${state})"></option>
														</select>
													</div>
												</div>
												<div class="col-xs-4">
													<div class="form-group">
														<label for="shippingZipcode">* Zipcode</label> <input
															type="text" class="form-control" id="shippingZipcode"
															placeholder="Shipping Zipcode"
															th:name="shippingAddressZipcode" required="required"
															th:value="${shippingAddress.shippingAddressZipcode}" />
													</div>
												</div>
											</div>
									     <a data-toggle="collapse" 	data-parent="#accordion" class="btn btn-warning pull-right" href="#paymentInfo"> Next</a>
								</div>
							</div>
						</div>
					</div>

				</div>
			</form>
		</div>

	</div>
	<!-- end of container -->


	<div th:replace="common/header :: body-bottom-scripts" />
</body>
</html>
